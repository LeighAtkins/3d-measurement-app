{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///root/3d-measurement-app/company-dashboard/src/app/company/%5Bsubdomain%5D/layout.tsx"],"sourcesContent":["'use client';\n\nimport React, { useEffect, useState, use } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { useAuth } from '@3d-measurement-app/ui';\n\ninterface CompanyLayoutProps {\n  children: React.ReactNode;\n  params: Promise<{ subdomain: string }>;\n}\n\nexport default function CompanyLayout({ children, params }: CompanyLayoutProps) {\n  const { user, loading } = useAuth();\n  const router = useRouter();\n  const [isValidating, setIsValidating] = useState(true);\n  const resolvedParams = use(params);\n\n  useEffect(() => {\n    if (loading) return;\n\n    // Check authentication\n    if (!user) {\n      router.push('/login');\n      return;\n    }\n\n    // Validate company access\n    if (user.role === 'COMPANY_ADMIN' || user.role === 'COMPANY_USER') {\n      if (user.company?.subdomain !== resolvedParams.subdomain) {\n        router.push('/login?error=unauthorized');\n        return;\n      }\n    } else if (user.role !== 'ADMIN') {\n      // Only company users and admins can access company pages\n      router.push('/login?error=unauthorized');\n      return;\n    }\n\n    setIsValidating(false);\n  }, [user, loading, resolvedParams.subdomain, router]);\n\n  if (loading || isValidating) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4\"></div>\n          <p>Loading dashboard...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      {/* Header */}\n      <header className=\"bg-white shadow-sm border-b border-gray-200\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"flex justify-between items-center h-16\">\n            <div className=\"flex items-center\">\n              <h1 className=\"text-xl font-semibold text-gray-900\">\n                {user?.company?.name || 'Company Dashboard'}\n              </h1>\n              <span className=\"ml-2 text-sm text-gray-500\">\n                /{resolvedParams.subdomain}\n              </span>\n            </div>\n            \n            <div className=\"flex items-center space-x-4\">\n              <span className=\"text-sm text-gray-700\">\n                {user?.name || user?.email}\n              </span>\n              <button\n                onClick={() => {\n                  // Add logout functionality\n                  router.push('/login');\n                }}\n                className=\"text-sm text-gray-500 hover:text-gray-700\"\n              >\n                Sign out\n              </button>\n            </div>\n          </div>\n        </div>\n      </header>\n\n      {/* Navigation */}\n      <nav className=\"bg-white shadow-sm\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"flex space-x-8\">\n            <a\n              href={`/company/${resolvedParams.subdomain}/orders`}\n              className=\"border-b-2 border-blue-500 py-4 px-1 text-sm font-medium text-blue-600\"\n            >\n              Orders\n            </a>\n            <a\n              href={`/company/${resolvedParams.subdomain}/settings`}\n              className=\"border-b-2 border-transparent py-4 px-1 text-sm font-medium text-gray-500 hover:text-gray-700 hover:border-gray-300\"\n            >\n              Settings\n            </a>\n          </div>\n        </div>\n      </nav>\n\n      {/* Main content */}\n      <main className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        {children}\n      </main>\n    </div>\n  );\n}"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAAA;;;AAJA;;;;AAWe,SAAS,cAAc,EAAE,QAAQ,EAAE,MAAM,EAAsB;;IAC5E,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,GAAG,CAAA,GAAA,6IAAA,CAAA,UAAO,AAAD;IAChC,MAAM,SAAS,CAAA,GAAA,qIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACjD,MAAM,iBAAiB,CAAA,GAAA,6JAAA,CAAA,MAAG,AAAD,EAAE;IAE3B,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;mCAAE;YACR,IAAI,SAAS;YAEb,uBAAuB;YACvB,IAAI,CAAC,MAAM;gBACT,OAAO,IAAI,CAAC;gBACZ;YACF;YAEA,0BAA0B;YAC1B,IAAI,KAAK,IAAI,KAAK,mBAAmB,KAAK,IAAI,KAAK,gBAAgB;gBACjE,IAAI,KAAK,OAAO,EAAE,cAAc,eAAe,SAAS,EAAE;oBACxD,OAAO,IAAI,CAAC;oBACZ;gBACF;YACF,OAAO,IAAI,KAAK,IAAI,KAAK,SAAS;gBAChC,yDAAyD;gBACzD,OAAO,IAAI,CAAC;gBACZ;YACF;YAEA,gBAAgB;QAClB;kCAAG;QAAC;QAAM;QAAS,eAAe,SAAS;QAAE;KAAO;IAEpD,IAAI,WAAW,cAAc;QAC3B,qBACE,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;;;;;;kCACf,6LAAC;kCAAE;;;;;;;;;;;;;;;;;IAIX;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BAEb,6LAAC;gBAAO,WAAU;0BAChB,cAAA,6LAAC;oBAAI,WAAU;8BACb,cAAA,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAG,WAAU;kDACX,MAAM,SAAS,QAAQ;;;;;;kDAE1B,6LAAC;wCAAK,WAAU;;4CAA6B;4CACzC,eAAe,SAAS;;;;;;;;;;;;;0CAI9B,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAK,WAAU;kDACb,MAAM,QAAQ,MAAM;;;;;;kDAEvB,6LAAC;wCACC,SAAS;4CACP,2BAA2B;4CAC3B,OAAO,IAAI,CAAC;wCACd;wCACA,WAAU;kDACX;;;;;;;;;;;;;;;;;;;;;;;;;;;;0BAST,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAAI,WAAU;8BACb,cAAA,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCACC,MAAM,CAAC,SAAS,EAAE,eAAe,SAAS,CAAC,OAAO,CAAC;gCACnD,WAAU;0CACX;;;;;;0CAGD,6LAAC;gCACC,MAAM,CAAC,SAAS,EAAE,eAAe,SAAS,CAAC,SAAS,CAAC;gCACrD,WAAU;0CACX;;;;;;;;;;;;;;;;;;;;;;0BAQP,6LAAC;gBAAK,WAAU;0BACb;;;;;;;;;;;;AAIT;GApGwB;;QACI,6IAAA,CAAA,UAAO;QAClB,qIAAA,CAAA,YAAS;;;KAFF","debugId":null}},
    {"offset": {"line": 242, "column": 0}, "map": {"version":3,"sources":["file:///root/3d-measurement-app/node_modules/next/navigation.js"],"sourcesContent":["module.exports = require('./dist/client/components/navigation')\n"],"names":[],"mappings":"AAAA,OAAO,OAAO","ignoreList":[0],"debugId":null}}]
}